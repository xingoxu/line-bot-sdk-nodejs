(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{358:function(s,t,e){"use strict";e.r(t);var n=e(42),a=Object(n.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"new-oauth"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#new-oauth"}},[s._v("#")]),s._v(" "),e("code",[s._v("new OAuth()")])]),s._v(" "),e("p",[e("code",[s._v("OAuth")]),s._v(" is a class representing OAuth APIs. It provides methods\ncorresponding to "),e("a",{attrs:{href:"https://developers.line.biz/en/reference/messaging-api/#issue-channel-access-token",target:"_blank",rel:"noopener noreferrer"}},[s._v("messaging APIs"),e("OutboundLink")],1),s._v(".")]),s._v(" "),e("h4",{attrs:{id:"type-signature"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#type-signature"}},[s._v("#")]),s._v(" Type signature")]),s._v(" "),e("div",{staticClass:"language-typescript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-typescript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OAuth")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("constructor")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("issueAccessToken")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("client_id"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" client_secret"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("Promise")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Types"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ChannelAccessToken"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("revokeAccessToken")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("access_token"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("Promise")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("issueChannelAccessTokenV2_1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    client_assertion"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("Promise")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Types"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ChannelAccessToken"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("getChannelAccessTokenKeyIdsV2_1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    client_assertion"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("Promise")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" key_ids"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("revokeChannelAccessTokenV2_1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    client_id"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    client_secret"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    access_token"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("Promise")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),e("h2",{attrs:{id:"create-a-oauth"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#create-a-oauth"}},[s._v("#")]),s._v(" Create a OAuth")]),s._v(" "),e("p",[s._v("The "),e("code",[s._v("OAuth")]),s._v(" class is provided by the main module.")]),s._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// CommonJS")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" OAuth "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@line/bot-sdk'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ES6 modules or TypeScript")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" OAuth "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@line/bot-sdk'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),e("p",[s._v("To create a client instance:")]),s._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" oauth "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OAuth")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),e("p",[s._v("And now you can call client functions as usual:")]),s._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" access_token "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" oauth"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("issueAccessToken")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"client_id"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"client_secret"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),e("h2",{attrs:{id:"methods"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#methods"}},[s._v("#")]),s._v(" Methods")]),s._v(" "),e("p",[s._v("For functions returning "),e("code",[s._v("Promise")]),s._v(", there will be errors thrown if something\ngoes wrong, such as HTTP errors or parsing errors. You can catch them with the\n"),e("code",[s._v(".catch()")]),s._v(" method of the promises. The detailed error handling is explained\nin "),e("RouterLink",{attrs:{to:"/guide/client.html"}},[s._v("the Client guide")]),s._v(".")],1),s._v(" "),e("h3",{attrs:{id:"oauth"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#oauth"}},[s._v("#")]),s._v(" OAuth")]),s._v(" "),e("h4",{attrs:{id:"issueaccesstoken-client-id-string-client-secret-string-promise-types-channelaccesstoken"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#issueaccesstoken-client-id-string-client-secret-string-promise-types-channelaccesstoken"}},[s._v("#")]),s._v(" "),e("code",[s._v("issueAccessToken(client_id: string, client_secret: string): Promise<Types.ChannelAccessToken>")])]),s._v(" "),e("p",[s._v("It corresponds to the "),e("a",{attrs:{href:"https://developers.line.biz/en/reference/messaging-api/#issue-channel-access-token",target:"_blank",rel:"noopener noreferrer"}},[s._v("Issue channel access token"),e("OutboundLink")],1),s._v(" API.")]),s._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" access_token"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" expires_in"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" token_type "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" oauth"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("issueAccessToken")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"client_id"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"client_secret"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),e("h4",{attrs:{id:"revokeaccesstoken-access-token-string-promise"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#revokeaccesstoken-access-token-string-promise"}},[s._v("#")]),s._v(" "),e("code",[s._v("revokeAccessToken(access_token: string): Promise<{}>")])]),s._v(" "),e("p",[s._v("It corresponds to the "),e("a",{attrs:{href:"https://developers.line.biz/en/reference/messaging-api/#revoke-channel-access-token",target:"_blank",rel:"noopener noreferrer"}},[s._v("Revoke channel access token"),e("OutboundLink")],1),s._v(" API.")]),s._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" oauth"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("revokeAccessToken")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"access_token"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),e("h4",{attrs:{id:"issuechannelaccesstokenv2-1-client-assertion-string-promise-types-channelaccesstoken"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#issuechannelaccesstokenv2-1-client-assertion-string-promise-types-channelaccesstoken"}},[s._v("#")]),s._v(" issueChannelAccessTokenV2_1(client_assertion: string): Promise<Types.ChannelAccessToken>")]),s._v(" "),e("p",[s._v("It corresponds to the "),e("a",{attrs:{href:"https://developers.line.biz/en/reference/messaging-api/#issue-channel-access-token-v2-1",target:"_blank",rel:"noopener noreferrer"}},[s._v("Issue channel access token v2.1"),e("OutboundLink")],1),s._v(" API.")]),s._v(" "),e("h4",{attrs:{id:"getchannelaccesstokenkeyidsv2-1-client-assertion-string-promise-key-ids-string"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#getchannelaccesstokenkeyidsv2-1-client-assertion-string-promise-key-ids-string"}},[s._v("#")]),s._v(" getChannelAccessTokenKeyIdsV2_1(client_assertion: string): Promise<{ key_ids: string[] }>")]),s._v(" "),e("p",[s._v("It corresponds to the "),e("a",{attrs:{href:"https://developers.line.biz/en/reference/messaging-api/#get-all-issued-channel-access-token-key-ids-v2-1",target:"_blank",rel:"noopener noreferrer"}},[s._v("Get all valid channel access token key IDs v2.1"),e("OutboundLink")],1),s._v(" API.")]),s._v(" "),e("h4",{attrs:{id:"revokechannelaccesstokenv2-1-client-id-string-client-secret-string-access-token-string-promise"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#revokechannelaccesstokenv2-1-client-id-string-client-secret-string-access-token-string-promise"}},[s._v("#")]),s._v(" revokeChannelAccessTokenV2_1(client_id: string, client_secret: string, access_token: string): Promise<{}>")]),s._v(" "),e("p",[s._v("It corresponds to the "),e("a",{attrs:{href:"https://developers.line.biz/en/reference/messaging-api/#revoke-channel-access-token-v2-1",target:"_blank",rel:"noopener noreferrer"}},[s._v("Revoke channel access token v2.1"),e("OutboundLink")],1),s._v(" API.")])])}),[],!1,null,null,null);t.default=a.exports}}]);